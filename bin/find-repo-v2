#!/bin/bash
shopt -s dotglob

find_repo() {
    for d in "$@"; do
        test -d "$d" -a \! -L "$d" || continue
        cd "$d"
        if [ -d ".git" ]; then
            echo $PWD
        else
            find_repo *
        fi
        cd ..
    done
}
find_repo $1/*
